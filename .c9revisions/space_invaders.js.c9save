{"ts":1352217709407,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var DEBUG = false;\n\n//setup class inheritance\nFunction.prototype.inheritsFrom = function( superClass ){\n\tthis.prototype = new superClass;\n\tthis.prototype.constructor = this;\n\tthis.prototype.parent = superClass.prototype; // use this.parent.methodName.call(this[, arg]*) to call a method from the superclass\n}\n\n//x-browser event helper\nfunction addEvent(node, name, func, supressDefault) {\n\tif(node.addEventListener){\n\t\tnode.addEventListener(name, func, supressDefault);\n\t}else if(node.attachEvent) {\n\t\tnode.attachEvent(name, func);\n\t}\n}\n\n//defines a physical entity\nfunction PhysicalEntity(){\n\t//entity's mass center coordinates\n\tthis.x = 0;\n\tthis.y = 0;\n\t//entity dimensions\n\tthis.width = 0;\n\tthis.height = 0;\n}\n//update entity status\nPhysicalEntity.prototype.update = function(){\n\tif(DEBUG) console.log('updating: ' + this.constructor.name + '[width:' + this.width + ' height:' + this.height + '] at <' + this.x + ',' + this.y + '>');\n};\n//translates drawing context so that the space-box alloted for the entity's dimensions is centered on the entity's center of mass\nPhysicalEntity.prototype.paint = function(context){\n\tcontext.save();\n\tcontext.translate( this.x - Math.floor(this.width/2), this.y - Math.floor(this.height/2) );\n\tthis.draw(context);\n\tcontext.restore();\n};\n//draws the entity on screen\nPhysicalEntity.prototype.draw = function(context){\n\tif(DEBUG) console.log('drawing: ' + this.constructor.name + '[width:' + this.width + ' height:' + this.height + '] at <' + this.x + ',' + this.y + '>');\n}\n//returns true if the other entity collides with this one\nPhysicalEntity.prototype.hits = function( anotherPhysicalEntity ){\n\tvar distance = Math.sqrt( Math.pow(this.x - anotherPhysicalEntity.x, 2) + Math.pow(this.y - anotherPhysicalEntity.y, 2) );\n\treturn (distance <= this.width/2 && distance <= this.height/2) \n\t\t\t|| (distance <= anotherPhysicalEntity.width/2 && distance <= anotherPhysicalEntity.height/2);\n}\n\n//defines a spaceship\nfunction Spaceship(){\n\tthis.x = 100;\n\tthis.y = 300;\n\tthis.width = 50;\n\tthis.height = 50;\n\tthis.counter = 0;\n}\nSpaceship.inheritsFrom(PhysicalEntity);\n//draw the Spaceship\nSpaceship.prototype.draw = function(context){\n\tcontext.fillStyle = '#FFFFFF';\n\tcontext.beginPath();\n\tcontext.moveTo( Math.floor(this.width)/2, 0);\n\tcontext.lineTo(this.width, this.height);\n\tcontext.lineTo(0, this.height);\n\tcontext.closePath();\n\tcontext.fill();\n\tif(DEBUG) this.parent.draw.call(this, context);\n}\n//updates Spaceship\nSpaceship.prototype.update = function() {\n\t//move left\n\tif(game.keyboard[37]){\n\t\tthis.x -= 10;\n\t\tif(this.x - Math.floor(this.width/2) < 0){\n\t\t\tthis.x = Math.floor(this.width/2);\n\t\t}\n\t}\n\t//move right\n\tif(game.keyboard[39]){\n\t\tthis.x += 10;\n\t\tif(this.x + Math.floor(this.width/2) > game.canvas.width){\n\t\t\tthis.x = game.canvas.width - Math.floor(this.width/2);\n\t\t}\n\t}\n\t//fire a laser\n\tif(game.keyboard[32]){\n\t\tif(! game.keyboard.fired){\n\t\t\tthis.fireLaser();\n\t\t\tgame.keyboard.fired = true;\n\t\t}else{\n\t\t\tgame.keyboard.fired = false;\n\t\t}\n\t}\n\tif(DEBUG) this.parent.update.call(this);\n}\n//fire a Laser\nSpaceship.prototype.fireLaser = function() {\n\tvar laser = new Laser();\n\tlaser.x = this.x;\n\tlaser.y = this.y - Math.floor(this.height/2);\n\tgame.lasers.push(laser);\n}\n\n//define a laser\nfunction Laser(){\n\tthis.width = 10;\n\tthis.height = 30;\n\tthis.state = 'clear';\n}\nLaser.inheritsFrom(PhysicalEntity);\n//draw a Laser\nLaser.prototype.draw = function(context){\n\tcontext.fillStyle = 'white';\n\tcontext.fillRect(0, 0, this.width, this.height);\n}\n//update a laser\nLaser.prototype.update = function(){\n\tthis.y -= 2;\n\tfor(var i = 0; i < game.invaders.length; i++){\n\t\tif(this.hits(game.invaders[i])){\n\t\t\tthis.state = 'hit';\n\t\t\tgame.invaders[i].state = 'hit';\n\t\t\tgame.invaders[i].counter = 0;\n\t\t}\n\t}\n}\n\n//define a missile\nfunction Missile(){\n\tthis.width = 10;\n\tthis.height = 33;\n\tthis.state = 'clear';\n}\nMissile.inheritsFrom(Laser);\n//override update\nMissile.prototype.update = function() {\n\tthis.y += 2;\n\tif(this.hits(game.spaceship)){\n\t\tthis.state = 'hit';\n\t\tgame.spaceship.state = 'hit';\n\t}\n}\n//override draw\nMissile.prototype.draw = function(context){\n\tcontext.fillStyle = 'yellow';\n\tcontext.fillRect(0,0,this.width,this.height);\n}\n\n//define a space invader\nfunction Invader(){\n\tthis.width = 40;\n\tthis.height = 40;\n\tthis.phase = Math.floor(Math.random() * 50);\n\tthis.counter = 0;\n\tthis.state = 'alive';\n}\nInvader.inheritsFrom(PhysicalEntity);\n//draw an invader\nInvader.prototype.draw = function(context){\n\tcontext.fillStyle = this.state == 'hit'? 'purple' : 'red';\n\tcontext.fillRect(0,0,this.width,this.height);\n}\n//update an invader\nInvader.prototype.update = function(){\n\tif(this.state == 'alive'){\n\t\tthis.counter++;\n\t}\n\t//swing right and left 3 pixels\n\tthis.x += Math.sin( this.counter * Math.PI * 2 / 100) * 3;\n\tif( (this.counter + this.phase) % 200 == 0){\n\t\tthis.fireMissile();\n\t}\n\tif(this.state == 'hit'){\n\t\tthis.counter++;\n\t\tif(this.counter >= 20){\n\t\t\tthis.state = 'dead';\n\t\t\tthis.counter = 0;\n\t\t}\n\t}\n}\n//fire missiles\nInvader.prototype.fireMissile = function (){\n\tvar missile = new Missile();\n\tmissile.x = this.x;\n\tmissile.y = this.y;\n\tgame.missiles.push(missile);\n}\n\nvar game = {\n\t//keep track of game state\n\tstate: 'start',\n\t//game speed as fps\n\tgameSpeed: 60,\n\t//reference to the canvas html element\n\tcanvas: document.getElementById('game'),\n\t//reference for html's 2d graphics context\n\tcontext: document.getElementById('game').getContext('2d'),\n\t//keyboard state\n\tkeyboard: {},\n\t//the fired lasers\n\tlasers: [],\n\t//the space invaders\n\tinvaders: [],\n\t//the invader's missiles\n\tmissiles: [],\n\t//the game's spaceship\n\tspaceship: new Spaceship(),\n\t//execute update and drawing operations\n\tgameLoop: function(){\n\t\t//update the spaceship\n\t\tviewport.updateSpaceship();\n\t\t//update fired lasers\n\t\tviewport.updateShots();\n\t\t//update invaders\n\t\tviewport.updateInvaders();\n\t\t//clear the background before drawing game state on screen\n\t\tviewport.clearBackground();\n\t\t//draw the spaceship\n\t\tviewport.paintSpaceship();\n\t\t//draw the lasers\n\t\tviewport.paintShots();\n\t\t//draw the invaders\n\t\tviewport.paintInvaders();\n\t},\n\t//a handle to stop game execution\n\tgameLoopHandle: null,\n};\n\nvar viewport = {\n\t//fills the background with black\n\tclearBackground: function(){\n\t\tgame.context.fillStyle = '#000000';\n\t\tgame.context.fillRect(0,0,game.canvas.width,game.canvas.height);\n\t},\n\t//paints a spaceship\n\tpaintSpaceship: function() {\n\t\tgame.spaceship.paint(game.context);\n\t},\n\t//updates the spaceship\n\tupdateSpaceship: function(){\n\t\tgame.spaceship.update();\n\t},\n\tpaintShots: function(){\n\t\tfor(var i = 0; i < game.lasers.length; i++){\n\t\t\tgame.lasers[i].paint(game.context);\n\t\t}\n\t\tfor(var i = 0; i < game.missiles.length; i++){\n\t\t\tgame.missiles[i].paint(game.context);\n\t\t}\n\t},\n\t//updates the lasers\n\tupdateShots: function(){\n\t\tfor(var i = 0; i < game.lasers.length; i++){\n\t\t\tgame.lasers[i].update();\n\t\t}\n\t\tfor(var i = 0; i < game.missiles.length; i++){\n\t\t\tgame.missiles[i].update();\n\t\t}\n\t\t//remove lasers that are out of the viewport\n\t\tgame.lasers = game.lasers.filter(function(laser){\n\t\t\treturn laser.y > 0 && laser.y < game.canvas.height;\n\t\t});\n\t\t//remove missiles no longer within the viewport\n\t\tgame.missiles = game.missiles.filter(function(missile){\n\t\t\treturn missile.y > 0 && missile.y < game.canvas.height;\n\t\t});\n\t},\n\t//paint invaders\n\tpaintInvaders: function(){\n\t\tfor(var i =0; i < game.invaders.length; i++){\n\t\t\tgame.invaders[i].paint(game.context);\n\t\t}\n\t},\n\t//update invaders\n\tupdateInvaders: function(){\n\t\tfor(var i =0; i < game.invaders.length; i++){\n\t\t\tgame.invaders[i].update();\n\t\t}\n\t\tgame.invaders = game.invaders.filter(function(invader){ return invader.state != 'dead'; });\n\t},\n\t//initializes game content\n\tstartGame: function(){\n\t\t\n\t},\n\t//create a line of invaders\n\tpopulateInvaderRow: function(rowNumber){\n\t\tif(!rowNumber || rowNumber == null){\n\t\t\trowNumber = 0;\n\t\t}\n\t\tfor(var i = 0; i < 10; i++){\n\t\t\tvar invader = new Invader();\n\t\t\tinvader.x = (rowNumber % 2 == 0 ? 30 : 40) + ( i * 50);\n\t\t\tinvader.y = 30 + (rowNumber * 50);\n\t\t\tinvader.counter = rowNumber % 2 == 0 ? 0 : 90;\n\t\t\tgame.invaders.push(invader);\n\t\t}\n\t},\n\t//registers keyboard events\n\taddKeyboardEvents: function() {\n\t\taddEvent(document, 'keydown', function(e){\n\t\t\tgame.keyboard[e.keyCode] = true;\n\t\t}, true);\n\t\taddEvent(document, 'keyup', function(e){\n\t\t\tgame.keyboard[e.keyCode] = false;\n\t\t}, true);\n\t},\n};\n\n//setup game controls\nviewport.addKeyboardEvents();\n//initialize game content\nviewport.startGame();\nviewport.populateInvaderRow(0);\nviewport.populateInvaderRow(1);\n//make sure game loop gets run at a 60pfs rate\ngame.gameLoopHandle = setInterval(game.gameLoop, 1000/game.gameSpeed);\n"]],"start1":0,"start2":0,"length1":0,"length2":8591}]],"length":8591}
{"contributors":[],"silentsave":false,"ts":1352218256922,"patch":[[{"diffs":[[0,"tion(){\n"],[-1,"\t\t"],[1,"        //clear remaining invaders\n\t\tgame.invaders = [];\n        //reset game state\n        game.state = 'started';\n        //reset spaceship state\n        game.spaeceship.state = 'alive';"],[0,"\n\t},\n\t//"]],"start1":7657,"start2":7657,"length1":18,"length2":204}]],"length":8777,"saved":false}
{"ts":1352218598842,"patch":[[{"diffs":[[0,"false;\n\n"],[1,"function randomNumber(max){\n\treturn Math.floor(Math.random() * max + 1);\n}\n\n"],[0,"//setup "]],"start1":12,"start2":12,"length1":16,"length2":92},{"diffs":[[0,"= this.x"],[1," + (randomNumber(2) == 2 ? Math.floor(this.width/2) : -Math.floor(this.width/2) )"],[0,";\n\tmissi"]],"start1":5123,"start2":5123,"length1":16,"length2":97}]],"length":8934,"saved":false}
{"ts":1352218689704,"patch":[[{"diffs":[[0,"er = 0;\n"],[1,"    this.state = 'alive';\n"],[0,"}\nSpaces"]],"start1":2124,"start2":2124,"length1":16,"length2":42}]],"length":8960,"saved":false}
{"ts":1352218726185,"patch":[[{"diffs":[[0,"game.spa"],[-1,"e"],[0,"ceship.s"]],"start1":8004,"start2":8004,"length1":17,"length2":16}]],"length":8959,"saved":false}
{"ts":1352219013070,"patch":[[{"diffs":[[0,"= this.x"],[1,";\n\tmissile.y = this.y;\n    missile.x +="],[0," + (rand"]],"start1":5149,"start2":5149,"length1":16,"length2":55},{"diffs":[[0,"h/2) );\n"],[-1,"\tmissile.y = this.y;\n"],[0,"\tgame.mi"]],"start1":5271,"start2":5271,"length1":37,"length2":16}]],"length":8977,"saved":false}
{"ts":1352219177000,"patch":[[{"diffs":[[0,"e = "],[-1,"'#FFFFFF'"],[1,"(this.state == 'alive' ? 'white' : 'purple')"],[0,";\n\tc"]],"start1":2284,"start2":2284,"length1":17,"length2":52}]],"length":9012,"saved":false}
{"ts":1352219283830,"patch":[[{"diffs":[[0,"Style = "],[-1,"'white'"],[1,"(this.state == 'clear' ? 'white' : 'blue')"],[0,";\n\tconte"]],"start1":3550,"start2":3550,"length1":23,"length2":58},{"diffs":[[0,"e = "],[-1,"'yellow'"],[1,"(this.state == 'clear' ? 'yellow' : 'orange')"],[0,";\n\tc"]],"start1":4276,"start2":4276,"length1":16,"length2":53}]],"length":9084,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352219884241,"patch":[[{"diffs":[[0,"p.update();\n"],[1,"        if(game.spaceship.state == 'hit'){\n            game.state = 'ended';\n        }\n"],[0,"\t},\n\tpaintSh"]],"start1":6774,"start2":6774,"length1":24,"length2":111},{"diffs":[[0,"= true;\n"],[1,"            if(game.state != 'started'){\n               viewport.startGame();\n               viewport.populateInvaderRow(0);\n               viewport.populateInvaderRow(1);\n            }\n"],[0,"\t\t}, tru"]],"start1":8769,"start2":8769,"length1":16,"length2":202}]],"length":9357,"saved":false}
{"ts":1352219995306,"patch":[[{"diffs":[[0,"function(e){\n\t\t\t"],[1,"if(if(game.state == 'started'){\n                "],[0,"game.keyboard[e."]],"start1":8728,"start2":8728,"length1":32,"length2":80},{"diffs":[[0,"ue;\n"],[-1,"            if(game.state != 'started'){"],[1,"\t\t\t} else if (e.keyCode == 32) { //spacebar pressed"],[0,"\n   "]],"start1":8821,"start2":8821,"length1":48,"length2":59}]],"length":9416,"saved":false}
{"ts":1352220029510,"patch":[[{"diffs":[[0,"(e){\n\t\t\t"],[-1,"if("],[0,"if(game."]],"start1":8736,"start2":8736,"length1":19,"length2":16}]],"length":9413,"saved":false}
{"ts":1352220286975,"patch":[[{"diffs":[[0,"\t},\n"],[-1,"\t//registers keyboard events\n\taddKeyboardEvents: function() {\n\t\taddEvent(document, 'k"],[1,"    //handle keydown events\n    onK"],[0,"eydown"],[-1,"',"],[1,":"],[0," fun"]],"start1":8630,"start2":8630,"length1":101,"length2":50},{"diffs":[[0,"ion(e){\n"],[-1,"\t\t\t"],[1,"        "],[0,"if(game."]],"start1":8682,"start2":8682,"length1":19,"length2":24},{"diffs":[[0,"'started'){\n"],[-1,"    "],[0,"            "]],"start1":8715,"start2":8715,"length1":28,"length2":24},{"diffs":[[0,"= true;\n"],[-1,"\t"],[0,"\t\t} else"]],"start1":8764,"start2":8764,"length1":17,"length2":16},{"diffs":[[0,"ssed\n           "],[-1,"    "],[0,"viewport.startGa"]],"start1":8818,"start2":8818,"length1":36,"length2":32},{"diffs":[[0,"tartGame();\n"],[-1,"    "],[0,"           v"]],"start1":8844,"start2":8844,"length1":28,"length2":24},{"diffs":[[0,"\n           "],[-1,"   "],[-1," "],[0,"viewport.pop"]],"start1":8898,"start2":8898,"length1":28,"length2":24},{"diffs":[[0,"        "],[1,"}\n"],[0,"    }"],[1,",\n    //handle keyup events\n    onKeyup: function(e) {\n        game.keyboard[e.keyCode] = false;\n    },\n\t//registers keyboard events\n\taddKeyboardEvents: function() {\n\t\taddEvent(document, 'keydown', function(e){\n\t\t\tviewport.onKeyDown(e);"],[0,"\n\t\t}, tr"]],"start1":8942,"start2":8942,"length1":21,"length2":259},{"diffs":[[0,"\n\t\t\t"],[-1,"game.keyboard[e.keyCode] = false"],[1,"viewport.onKeyup(e)"],[0,";\n\t\t"]],"start1":9248,"start2":9248,"length1":40,"length2":27}]],"length":9575,"saved":false}
{"ts":1352220385214,"patch":[[{"diffs":[[0,"   onKey"],[-1,"d"],[1,"D"],[0,"own: fun"]],"start1":8663,"start2":8663,"length1":17,"length2":17}]],"length":9575,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352222812419,"patch":[[{"diffs":[[0,"le);\n}\n\n"],[1,"function OnscreenMessage(){\n    this.x = 0;\n    this.y = 0;\n    this.counter = -1;\n    this.title = '';\n    this.body = '';\n    this.alpha = 50.0;\n    this.titleFont = 'Bold 40pt Helvetica, Arial';\n    this.bodyFont = '14pt Helvetica, Arial';\n    this.titleFillStyle = 'white';\n    this.bodyFillStyle = 'white';\n}\n\n"],[0,"var game"]],"start1":5411,"start2":5411,"length1":16,"length2":331},{"diffs":[[0,"e);\n\t},\n"],[1,"    //draw messages on the screen\n    drawMessages: function(){\n        \n    },\n"],[0,"};\n\n//se"]],"start1":9596,"start2":9596,"length1":16,"length2":96}]],"length":9970,"saved":false}
{"ts":1352229157540,"patch":[[{"diffs":[[0,"a = "],[-1,"5"],[0,"0."],[-1,"0"],[1,"5"],[0,";\n  "]],"start1":5556,"start2":5556,"length1":12,"length2":11},{"diffs":[[0,"white';\n"],[-1,""],[0,"    this"]],"start1":5688,"start2":5688,"length1":16,"length2":16},{"diffs":[[0,"hite';\n}"],[1,"\n//draw message on screen\nOnScreenMessage.prototype.paint = function(context){\n    this.alpha = this.counter/50.0;\n    this.counter++;\n    if(this.alpha > 1){\n        this.alpha = 1;    \n    }    \n}"],[0,"\n\nvar ga"]],"start1":5723,"start2":5723,"length1":16,"length2":214}]],"length":10167,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352239628013,"patch":[[{"diffs":[[0,"ction On"],[-1,"s"],[1,"S"],[0,"creenMes"]],"start1":5422,"start2":5422,"length1":17,"length2":17}]],"length":10167,"saved":false}
{"ts":1352241342180,"patch":[[{"diffs":[[0,"\n}\n\n"],[-1,"function OnScreenMessage(){"],[1,"//defines a message that is displayed on screen\nfunction OnScreenMessage(titleFontSize, bodyFontSize){\n    if(!titleFontSize) titleFontSize = 40;\n    if(!bodyFontSize) bodyFontSize = 14;"],[0,"\n   "]],"start1":5415,"start2":5415,"length1":35,"length2":194},{"diffs":[[0,"Font"],[-1," = 'Bold 40pt"],[1,"SizePx = titleFontSize;\n    this.bodyFontSizePx = bodyFontSize;\n    this.titleFont = 'Bold ' + titleFontSize + 'px"],[0," Hel"]],"start1":5738,"start2":5738,"length1":21,"length2":122},{"diffs":[[0,"t = "],[-1,"'14pt"],[1,"bodyFontSize +'px"],[0," Hel"]],"start1":5892,"start2":5892,"length1":13,"length2":25},{"diffs":[[0,"    "],[-1,"this.alpha = this.counter/50.0;\n    this.counter++;\n    if(this.alpha > 1){\n        this.alpha = 1;    \n    }    "],[1,"context.save();\n    context.fillStyle = this.titleFillStyle;\n    context.font = this.titleFont;\n    context.fillText(this.title, (game.canvas.width - context.measureText(this.title))/2, 10 + this.titleFontSizePx);\n    context.font = this.bodyFont;\n    context.fillStyle = this.bodyFillStyle;\n    context.fillText(this.body, (game.canvas.width - context.measureText(this.body))/2, 20 + this.bodyFontSizePx);\n    context.restore();"],[0,"\n}\n\n"]],"start1":6082,"start2":6082,"length1":121,"length2":437}]],"length":10755,"saved":false}
{"ts":1352241553618,"patch":[[{"diffs":[[0,"illText("],[-1,"this."],[1,"'"],[0,"title"],[1,"'"],[0,", (game."]],"start1":6195,"start2":6195,"length1":26,"length2":23},{"diffs":[[0,"illText("],[-1,"this."],[1,"'"],[0,"body"],[1,"'"],[0,", (game."]],"start1":6388,"start2":6388,"length1":25,"length2":22}]],"length":10749,"saved":false}
{"ts":1352242015380,"patch":[[{"diffs":[[0,"e', "],[-1,"(game.canvas.width - context.measureText(this.title))/2"],[1,"10"],[0,", 10"]],"start1":6208,"start2":6208,"length1":63,"length2":10},{"diffs":[[0,"y', "],[-1,"(game.canvas.width - context.measureText(this.body))/2"],[1,"10"],[0,", 20"]],"start1":6347,"start2":6347,"length1":62,"length2":10}]],"length":10644,"saved":false}
{"ts":1352242084775,"patch":[[{"diffs":[[0,"is.title = '"],[1,"title"],[0,"';\n    this."]],"start1":5667,"start2":5667,"length1":24,"length2":29},{"diffs":[[0,"body = '"],[1,"body"],[0,"';\n    t"]],"start1":5696,"start2":5696,"length1":16,"length2":20},{"diffs":[[0,"illText("],[-1,"'"],[1,"this."],[0,"title"],[-1,"'"],[0,", 10, 10"]],"start1":6204,"start2":6204,"length1":23,"length2":26},{"diffs":[[0,"illText("],[-1,"'"],[1,"this."],[0,"body"],[-1,"'"],[0,", 10, 20"]],"start1":6347,"start2":6347,"length1":22,"length2":25},{"diffs":[[0,", 20 + this."],[-1,"body"],[1,"title"],[0,"FontSizePx);"]],"start1":6368,"start2":6368,"length1":28,"length2":29},{"diffs":[[0,".titleFontSizePx"],[1," + 10"],[0,");\n    context.r"]],"start1":6379,"start2":6379,"length1":32,"length2":37}]],"length":10665,"saved":false}
{"ts":1352242125472,"patch":[[{"diffs":[[0,".title, "],[-1,"10"],[1,"context.measureText(this.title)"],[0,", 10 + t"]],"start1":6216,"start2":6216,"length1":18,"length2":47}]],"length":10694,"saved":false}
{"ts":1352242153292,"patch":[[{"diffs":[[0,"s.title)"],[1,".width"],[0,", 10 + t"]],"start1":6247,"start2":6247,"length1":16,"length2":22}]],"length":10700,"saved":false}
{"ts":1352242184999,"patch":[[{"diffs":[[0,"s.title,"],[1," (game.canvas.width -"],[0," context"]],"start1":6215,"start2":6215,"length1":16,"length2":37},{"diffs":[[0,"e).width"],[1,")/2"],[0,", 10 + t"]],"start1":6274,"start2":6274,"length1":16,"length2":19}]],"length":10724,"saved":false}
{"ts":1352242216933,"patch":[[{"diffs":[[0,"s.body, "],[-1,"10"],[1,"(game.canvas.width - context.measureText(this.title).width)/2"],[0,", 20 + t"]],"start1":6417,"start2":6417,"length1":18,"length2":77}]],"length":10783,"saved":false}
{"ts":1352242767897,"patch":[[{"diffs":[[0,"ite';\n}\n"],[1,"//draw a string on screen using context setup\nOnScreenMessage.prototype.drawText = function(context, text, fontSizePx){\n    var text2Draw = text.split('\\n');\n    var yOffset = 0;\n    for(var i = 0; i < text2Draw.length; i++){\n        context.fillText(text2Draw, (game.canvas.width - context.measureText(text2Draw).width)/2, 0);\n        context.translate(0, fontSizePx);\n    }\n}\n"],[0,"//draw m"]],"start1":6005,"start2":6005,"length1":16,"length2":394},{"diffs":[[0,"ext."],[-1,"fillText(this.title, (game.canvas.width - context.measureText(this.title).width)/2, 10 +"],[1,"translate(0, this.titleFontSizePx);\n    this.drawText(context, 10+this.title,"],[0," thi"]],"start1":6577,"start2":6577,"length1":96,"length2":85},{"diffs":[[0,"ext."],[-1,"fillText(this.body, (game.canvas.width - context.measureText(this.title).width)/2, 20 + this.title"],[1,"translate(0, 10+this.bodyFontSizePx);\n    this.drawText(context, 10+this.body, this.body"],[0,"Font"]],"start1":6768,"start2":6768,"length1":106,"length2":96},{"diffs":[[0,"zePx"],[-1," + 10"],[0,");\n "]],"start1":6866,"start2":6866,"length1":13,"length2":8}]],"length":11135,"saved":false}
{"ts":1352242828545,"patch":[[{"diffs":[[0,", fontSizePx"],[1," * i"],[0,");\n    }\n}\n/"]],"start1":6368,"start2":6368,"length1":24,"length2":28}]],"length":11139,"saved":false}
{"ts":1352242866124,"patch":[[{"diffs":[[0,", 10"],[-1,"+this.body, this.bodyFontSizePx"],[0,");\n "]],"start1":6839,"start2":6839,"length1":39,"length2":8}]],"length":11108,"saved":false}
{"ts":1352242884468,"patch":[[{"diffs":[[0,"text, 10"],[1,"+this.body, this.bodyFontSizePx"],[0,");\n    c"]],"start1":6835,"start2":6835,"length1":16,"length2":47}]],"length":11139,"saved":false}
{"ts":1352242912780,"patch":[[{"diffs":[[0,", 10"],[-1,"+this.bodyFontSizePx"],[0,");\n "]],"start1":6787,"start2":6787,"length1":28,"length2":8}]],"length":11119,"saved":false}
{"ts":1352242950035,"patch":[[{"diffs":[[0,"late(0, "],[-1,"10"],[1,"this.bodyFontSizePx"],[0,");\n    t"]],"start1":6781,"start2":6781,"length1":18,"length2":35}]],"length":11136,"saved":false}
{"ts":1352243081428,"patch":[[{"diffs":[[0,"xt(context, "],[-1,"10+"],[0,"this.title, "]],"start1":6636,"start2":6636,"length1":27,"length2":24}]],"length":11133,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352318745447,"patch":[[{"diffs":[[0," '>');\n}"],[1,";"],[0,"\n"],[-1,""],[0,"//return"]],"start1":1579,"start2":1579,"length1":17,"length2":18},{"diffs":[[0,"height/2);\n}"],[1,";"],[0,"\n\n//defines "]],"start1":1989,"start2":1989,"length1":24,"length2":25},{"diffs":[[0,"live';\n}"],[1,";"],[0,"\nSpacesh"]],"start1":2153,"start2":2153,"length1":16,"length2":17},{"diffs":[[0," context);\n}"],[1,";"],[0,"\n//updates S"]],"start1":2558,"start2":2558,"length1":24,"length2":25},{"diffs":[[0,"this);\n}"],[1,";"],[0,"\n//fire "]],"start1":3161,"start2":3161,"length1":16,"length2":17},{"diffs":[[0,"sh(laser);\n}"],[1,";"],[0,"\n\n//define a"]],"start1":3338,"start2":3338,"length1":24,"length2":25},{"diffs":[[0,"lear';\n}"],[1,";"],[0,"\nLaser.i"]],"start1":3441,"start2":3441,"length1":16,"length2":17},{"diffs":[[0," this.height);\n}"],[1,";"],[0,"\n//update a lase"]],"start1":3644,"start2":3644,"length1":32,"length2":33},{"diffs":[[0," 0;\n\t\t}\n\t}\n}"],[1,";"],[0,"\n\n//define a"]],"start1":3900,"start2":3900,"length1":24,"length2":25},{"diffs":[[0,"lear';\n}"],[1,";"],[0,"\nMissile"]],"start1":4007,"start2":4007,"length1":16,"length2":17},{"diffs":[[0,"t';\n\t}\n}"],[1,";"],[0,"\n//overr"]],"start1":4200,"start2":4200,"length1":16,"length2":17},{"diffs":[[0,"s.height);\n}"],[1,";"],[0,"\n\n//define a"]],"start1":4374,"start2":4374,"length1":24,"length2":25},{"diffs":[[0,"live';\n}"],[1,";"],[0,"\nInvader"]],"start1":4552,"start2":4552,"length1":16,"length2":17},{"diffs":[[0,"ight);\n}"],[1,";"],[0,"\n//updat"]],"start1":4762,"start2":4762,"length1":16,"length2":17},{"diffs":[[0,"\t\t}\n\t}\n}"],[1,";"],[0,"\n//fire "]],"start1":5159,"start2":5159,"length1":16,"length2":17},{"diffs":[[0,"(missile);\n}"],[1,";"],[0,"\n\n//defines "]],"start1":5420,"start2":5420,"length1":24,"length2":25},{"diffs":[[0,"hite';\n}"],[1,";"],[0,"\n//draw "]],"start1":6020,"start2":6020,"length1":16,"length2":17},{"diffs":[[0,"\n    }\n}"],[1,";"],[0,"\n//draw "]],"start1":6403,"start2":6403,"length1":16,"length2":17},{"diffs":[[0,"s.title,"],[1," 10 +"],[0," this.ti"]],"start1":6669,"start2":6669,"length1":16,"length2":21},{"diffs":[[0,"xt, "],[-1,"10+"],[0,"this"]],"start1":6854,"start2":6854,"length1":11,"length2":8},{"diffs":[[0,"is.body,"],[1," 10 +"],[0," this.bo"]],"start1":6860,"start2":6860,"length1":16,"length2":21},{"diffs":[[0,"tore();\n"],[-1,""],[0,"}"],[1,";"],[0,"\n\nvar ga"]],"start1":6911,"start2":6911,"length1":17,"length2":18}]],"length":11159,"saved":false}
{"ts":1352319469119,"patch":[[{"diffs":[[0,"tity ){\n"],[1,"    //horizontal collision\n    if (this.x + this.width/2 >= anotherPhysicalEntity.x - anotherPhysicalEntity.width/2\n        || this.x - this.width/2 <= anotherPhysicalEntity.x + anotherPhysicalEntity.width/2){\n        //vertical collision\n        if (this.y + this.height/2 >= anotherPhysicalEntity.y - anotherPhysicalEntity.height/2\n            || this.y - this.height/2 <= anotherPhysicalEntity.y + anotherPhysicalEntity.height/2){\n            return true;\n        }\n    }\n    return false;\n    /*\n"],[0,"\tvar dis"]],"start1":1706,"start2":1706,"length1":16,"length2":516},{"diffs":[[0,"ght/2);\n"],[1,"    */\n"],[0,"};\n\n//de"]],"start1":2492,"start2":2492,"length1":16,"length2":23}]],"length":11666,"saved":false}
{"ts":1352319743512,"patch":[[{"diffs":[[0,"x + "],[1,"("],[0,"this."],[-1,"width/2 >= anotherPhysicalEntity.x - anotherPhysicalEntity.width/2\n        || this.x - "],[1,"x+("],[0,"this"]],"start1":1754,"start2":1754,"length1":100,"length2":17},{"diffs":[[0,".width/2"],[-1," <"],[1,")) >"],[0,"= "],[1,"("],[0,"anotherP"]],"start1":1771,"start2":1771,"length1":20,"length2":23},{"diffs":[[0,"ntity.x "],[-1,"+ "],[1,"- ("],[0,"anotherP"]],"start1":1802,"start2":1802,"length1":18,"length2":19},{"diffs":[[0,"width/2)"],[1,"))"],[0,"{\n      "]],"start1":1835,"start2":1835,"length1":16,"length2":18},{"diffs":[[0,"\n        if "],[1,"("],[0,"(this.y + th"]],"start1":1875,"start2":1875,"length1":24,"length2":25},{"diffs":[[0,"his.y + "],[1,"("],[0,"this.hei"]],"start1":1890,"start2":1890,"length1":16,"length2":17},{"diffs":[[0,"height/2"],[1,"))"],[0," >= "],[1,"("],[0,"anotherP"]],"start1":1904,"start2":1904,"length1":20,"length2":23},{"diffs":[[0,"lEntity.y - "],[1,"("],[0,"anotherPhysi"]],"start1":1933,"start2":1933,"length1":24,"length2":25},{"diffs":[[0,"ht/2"],[-1,"\n            || this.y - this.height/2 <= anotherPhysicalEntity.y + anotherPhysicalEntity.height/2"],[1,"))"],[0,"){\n "]],"start1":1972,"start2":1972,"length1":106,"length2":10},{"diffs":[[0,"return false"],[1," || anotherPhysicalEntity.hits(this)"],[0,";\n    /*\n\tva"]],"start1":2026,"start2":2026,"length1":24,"length2":60}]],"length":11535,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352319896961,"patch":[[{"diffs":[[0,"alEntity"],[1,", stop"],[0," ){\n    "]],"start1":1702,"start2":1702,"length1":16,"length2":22},{"diffs":[[0,"    }\n    }\n"],[1,"    if(!stop)\n    "],[0,"    return f"]],"start1":2016,"start2":2016,"length1":24,"length2":42},{"diffs":[[0,"its(this"],[-1,")"],[1,", true);\n    return false"],[0,";\n    /*"]],"start1":2089,"start2":2089,"length1":17,"length2":41}]],"length":11583,"saved":false}
{"ts":1352320097218,"patch":[[{"diffs":[[0,"(this.y "],[-1,"+"],[1,"-"],[0," (this.h"]],"start1":1894,"start2":1894,"length1":17,"length2":17},{"diffs":[[0,".height/2)) "],[-1,">"],[1,"<"],[0,"= (anotherPh"]],"start1":1909,"start2":1909,"length1":25,"length2":25},{"diffs":[[0,"ntity.y "],[-1,"-"],[1,"+"],[0," (anothe"]],"start1":1941,"start2":1941,"length1":17,"length2":17},{"diffs":[[0,"urn true"],[1," && anotherPhysicalEntity.hits(this, true)"],[0,";\n      "]],"start1":2002,"start2":2002,"length1":16,"length2":58}]],"length":11625,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352320181339,"patch":[[{"diffs":[[0,"eight/2))){\n"],[1,"            if(!stop)\n    "],[0,"            "]],"start1":1975,"start2":1975,"length1":24,"length2":50},{"diffs":[[0,"his, true);\n"],[1,"                return true;\n"],[0,"        }\n  "]],"start1":2068,"start2":2068,"length1":24,"length2":53}]],"length":11680,"saved":false}
{"ts":1352320788438,"patch":[[{"diffs":[[0,"tity"],[-1,", stop ){\n    //horizontal collision\n    if (this.x + ("],[1,"){\n    var leftBorder0 = this.x - this.width/2;\n    var rightBorder0 = this.x + this.width/2;\n    var topBorder0 = this.y - this.height/2;\n    var bottomBorder1 = "],[0,"this."],[-1,"x+("],[1,"y + "],[0,"this"]],"start1":1706,"start2":1706,"length1":71,"length2":180},{"diffs":[[0,"th/2"],[-1,")) >"],[1,";\n    var leftBorder1 "],[0,"= "],[-1,"("],[0,"anot"]],"start1":1890,"start2":1890,"length1":15,"length2":32},{"diffs":[[0,"ity.x - "],[-1,"("],[0,"anotherP"]],"start1":1936,"start2":1936,"length1":17,"length2":16},{"diffs":[[0,"th/2"],[-1,"))){"],[1,";"],[0,"\n    "],[-1,"    //vertical collision\n        if ((this.y - (this.height/2)) <"],[1,"var rightBorder1 = anotherPhysicalEntity.x + anotherPhysicalEntity.width/2;\n    var topBorder1 = anotherPhysicalEntity.y - anotherPhysicalEntity.height/2;\n    var bottomBorder1 "],[0,"= "],[-1,"("],[0,"anot"]],"start1":1969,"start2":1969,"length1":85,"length2":193},{"diffs":[[0,"ity.y + "],[-1,"("],[0,"anotherP"]],"start1":2176,"start2":2176,"length1":17,"length2":16},{"diffs":[[0,"ht/2"],[-1,"))){"],[1,";"],[0,"\n    "],[-1,"        if(!stop)\n                return true && anotherPhysicalEntity.hits(this, true);\n                return true;\n  "],[1,"//horizontal collision\n    if ((leftBorder1 >= leftBorder0 && leftBorder1 <= rightBorder0)\n        || (rightBorder1 >= leftBorder0 && rightBorder1 <= rightBorder0)){\n        //vertical collision\n        if ((topBorder1 >= topBorder0 && topBorder1 <= bottomBorder0)\n"],[0,"      "],[-1,"}\n"],[0,"    "],[-1,"}\n    if(!stop)\n        return false || anotherPhysicalEntity.hits(this, true);"],[1,"  ||(bottomBorder1 >= topBorder0 && bottomBorder1 <= bottomBorder0)){\n            return true;\n        }\n    }"],[0,"\n   "]],"start1":2210,"start2":2210,"length1":228,"length2":399}]],"length":12083,"saved":false}
{"ts":1352320813886,"patch":[[{"diffs":[[0,"omBorder"],[-1,"1"],[1,"0"],[0," = this."]],"start1":1861,"start2":1861,"length1":17,"length2":17}]],"length":12083,"saved":false}
{"ts":1352321398904,"patch":[[{"diffs":[[0,"    "],[-1,"var leftBorder0 = this.x - this.width/2;\n    var rightBorder0 = this.x + this.width/2;\n    var topBorder0 = "],[1,"if( (anotherPhysicalEntity.x + anotherPhysicalEntity.width/2)>=("],[0,"this."],[-1,"y"],[1,"x"],[0," - this."],[-1,"height/2;\n    var bottomBorder0 = this.y + this.width/2;\n    var leftBorder1 = anotherPhysicalEntity.x - anotherPhysicalEntity.width/2;\n    var rightBorder1 = anotherPhysicalEntity.x + anotherPhysicalEntity.width/2;\n    var topBorder1 = "],[1,"width/2) && (anotherPhysicalEntity.x - anotherPhysicalEntity.width/2) < (this.x + this.wdith/2) ){\n        if(("],[0,"anot"]],"start1":1713,"start2":1713,"length1":367,"length2":197},{"diffs":[[0,"ntity.y "],[-1,"-"],[1,"+"],[0," another"]],"start1":1922,"start2":1922,"length1":17,"length2":17},{"diffs":[[0,"ht/2"],[-1,";\n    var bottomBorder1 = "],[1,")>=(this.y-this.height/2) && ("],[0,"anot"]],"start1":1958,"start2":1958,"length1":34,"length2":38},{"diffs":[[0,"PhysicalEntity.y"],[-1," + "],[1,"-"],[0,"anotherPhysicalE"]],"start1":1999,"start2":1999,"length1":35,"length2":33},{"diffs":[[0,"ht/2"],[-1,";\n    //horizontal collision\n    if ((leftBorder1 >= leftBorder0 && leftBorder1 <= rightBorder0)\n        || (rightBorder1 >= leftBorder0 && rightBorder1 <= rightBorder0)){\n        //vertical collision\n        if ((topBorder1 >= topBorder0 && topBorder1 <= bottomBorder0)\n            ||(bottomBorder1 >= topBorder0 && bottomBorder1 <= bottomBorder0"],[1,") < (this.y + this.height/2"],[0,")){\n"]],"start1":2042,"start2":2042,"length1":355,"length2":35},{"diffs":[[0,"rn true;"],[1,"    "],[0,"\n       "]],"start1":2093,"start2":2093,"length1":16,"length2":20},{"diffs":[[0,"  \n        }"],[1,"    "],[0,"\n    }\n    r"]],"start1":2103,"start2":2103,"length1":24,"length2":28},{"diffs":[[0,"lse;"],[-1,"\n    /*\n\tvar distance = Math.sqrt( Math.pow(this.x - anotherPhysicalEntity.x, 2) + Math.pow(this.y - anotherPhysicalEntity.y, 2) );\n\treturn (distance <= this.width/2 && distance <= this.height/2) \n\t\t\t|| (distance <= anotherPhysicalEntity.width/2 && distance <= anotherPhysicalEntity.height/2);\n    */"],[0,"\n};\n"]],"start1":2139,"start2":2139,"length1":308,"length2":8}]],"length":11303,"saved":false}
{"ts":1352322279248,"patch":[[{"diffs":[[0,"\n    if("],[-1," "],[0,"(another"]],"start1":1712,"start2":1712,"length1":17,"length2":16},{"diffs":[[0,"ntity.x "],[-1,"+"],[1,"-"],[0," another"]],"start1":1737,"start2":1737,"length1":17,"length2":17},{"diffs":[[0,"width/2)"],[-1,">="],[1," > "],[0,"(this.x "]],"start1":1769,"start2":1769,"length1":18,"length2":19},{"diffs":[[0,"width/2)"],[1,"\n       "],[0," && (ano"]],"start1":1795,"start2":1795,"length1":16,"length2":24},{"diffs":[[0,"y.width/2) <"],[1,"="],[0," (this.x + t"]],"start1":1862,"start2":1862,"length1":24,"length2":25},{"diffs":[[0,"is.w"],[-1,"dith/2) ){\n       "],[1,"idth/2)){\n        if((anotherPhysicalEntity.y - anotherPhysicalEntity.width/2) > (this.y - this.width/2)\n            && (anotherPhysicalEntity.y - anotherPhysicalEntity.width/2) <= (this.y + this.width/2)){\n            return true;\n        } else"],[0," if"],[1," "],[0,"((an"]],"start1":1888,"start2":1888,"length1":29,"length2":258},{"diffs":[[0,"ity."],[-1,"height"],[1,"width/2) < (this.y + this.width/2)\n            && (anotherPhysicalEntity.y + anotherPhysicalEntity.width"],[0,"/2)"],[1," "],[0,">="],[1," "],[0,"(this.y"],[-1,"-"],[1," - "],[0,"this."],[-1,"height/2) && (anotherPhysicalEntity.y-anotherPhysicalEntity.height"],[1,"width/2)){\n            return true;\n        }\n    } else if ((anotherPhysicalEntity.x + anotherPhysicalEntity.width/2) < (this.x + this.width/2)\n        && (anotherPhysicalEntity.x + anotherPhysicalEntity.width/2) >= (this.x - this.width/2)) {\n        if((anotherPhysicalEntity.y - anotherPhysicalEntity.width/2) > (this.y - this.width/2)\n            && (anotherPhysicalEntity.y - anotherPhysicalEntity.width"],[0,"/2) <"],[1,"="],[0," (th"]],"start1":2188,"start2":2188,"length1":103,"length2":548},{"diffs":[[0," + this."],[-1,"height"],[1,"width"],[0,"/2)){\n  "]],"start1":2740,"start2":2740,"length1":22,"length2":21},{"diffs":[[0,"rn true;"],[1,"\n"],[0,"    "],[1,"    } else if ((anotherPhysicalEntity.y + anotherPhysicalEntity.width/2) < (this.y + this.width/2)\n            && (anotherPhysicalEntity.y + anotherPhysicalEntity.width/2) >= (this.y - this.width/2)){\n            return true;"],[0,"\n       "]],"start1":2775,"start2":2775,"length1":20,"length2":246},{"diffs":[[0,"       }"],[-1,"    "],[0,"\n    }\n "]],"start1":3015,"start2":3015,"length1":20,"length2":16}]],"length":12207,"saved":false}
{"ts":1352322403316,"patch":[[{"diffs":[[0,"alEntity"],[1,", stop"],[0,"){\n    i"]],"start1":1702,"start2":1702,"length1":16,"length2":22},{"diffs":[[0,"    }\n    }\n"],[1,"    if(!stop)\n        return anotherPhysicalEntity.hits(this, true);\n"],[0,"    return f"]],"start1":3024,"start2":3024,"length1":24,"length2":93}]],"length":12282,"saved":false}
{"ts":1352323008007,"patch":[[{"diffs":[[0,"ion() {\n"],[1,"    if(this.state !== 'alive') return;\n"],[0,"\t//move "]],"start1":3749,"start2":3749,"length1":16,"length2":55}]],"length":12321,"saved":false}
{"ts":1352323075175,"patch":[[{"diffs":[[0,"unction() {\n"],[1,"    //stop spaceship from moving if it's not 'alive'\n"],[0,"    if(this."]],"start1":3745,"start2":3745,"length1":24,"length2":77}]],"length":12374,"saved":false}
{"ts":1352323192915,"patch":[[{"diffs":[[0,"alive';\n"],[1,"        //create invaders\n        viewport.populateInvaderRow(0);\n"],[0,"\t},\n\t//c"]],"start1":10959,"start2":10959,"length1":16,"length2":82},{"diffs":[[0,"    "],[-1,"if(game.state == 'started'){\n            game.keyboard[e.keyCode] = true;\n\t\t} else if (e.keyCode == 32) { //spacebar pressed\n           viewport.startGame();\n           viewport.populateInvaderRow(0);\n           viewport.populateInvaderRow(1);\n        }"],[1,"game.keyboard[e.keyCode] = true;"],[0,"\n   "]],"start1":11479,"start2":11479,"length1":261,"length2":40},{"diffs":[[0,"content\n"],[1,""],[0,"viewport"]],"start1":12007,"start2":12007,"length1":16,"length2":16},{"diffs":[[0,"();\n"],[-1,"viewport.populateInvaderRow(0);\nviewport.populateInvaderRow(1);\n"],[0,"//ma"]],"start1":12033,"start2":12033,"length1":72,"length2":8}]],"length":12155,"saved":false}
{"ts":1352323252546,"patch":[[{"diffs":[[0," = '"],[-1,"started"],[1,"playing"],[0,"';\n "]],"start1":10881,"start2":10881,"length1":15,"length2":15}]],"length":12155,"saved":false}
{"ts":1352323708621,"patch":[[{"diffs":[[0,"tion(){\n"],[1,"        //update game state\n        game.update();\n"],[0,"\t\t//upda"]],"start1":8672,"start2":8672,"length1":16,"length2":67},{"diffs":[[0,"ders();\n"],[-1,"\t"],[1,"        //if there's a message, display it\n        if(game.message.counter >=0) game.message.paint(game.context);\n\t},\n    //update game state\n    update: function(){\n        if(game.spaceship.state === 'hit'){\n            game.state = 'over';\n            game.message.title = 'Game Over';\n            game.message.body = 'press spacebar to play again!';\n            game.message.counter = 0;\n        }\n        \n        if(game.state === 'over' && game.keyboard[32]){\n            game.message.counter = -1;\n            viewport.startGame();    \n        }\n        \n        if(game.state === 'playing' && game.invaders.lengt == 0){\n            game.state = 'won';\n            game.message.title = 'Invaders exterminated';\n            game.message.body = 'press spacebar to play again!';\n            game.message.counter = 0;\n        }\n        \n        if(game.state === 'won' && game.keyboard[32]){\n            game.message.counter = -1;\n            viewport.startGame();\n        }\n    "],[0,"},\n\t//a "]],"start1":9115,"start2":9115,"length1":17,"length2":999}]],"length":13188,"saved":false}
{"ts":1352323786550,"patch":[[{"diffs":[[0,"ship(),\n"],[1,"    //on screen message\n    message: new OnScreenMessage(40,14),\n"],[0,"\t//execu"]],"start1":8608,"start2":8608,"length1":16,"length2":81}]],"length":13253,"saved":false}
{"ts":1352324228395,"patch":[[{"diffs":[[0,"% 200 =="],[-1,""],[0,""],[1,"="],[0," 0){\n\t\tt"]],"start1":6221,"start2":6221,"length1":16,"length2":17},{"diffs":[[0,"');\n"],[-1,"    var yOffset = 0;\n"],[0,"    "]],"start1":7400,"start2":7400,"length1":29,"length2":8},{"diffs":[[0,"rs.lengt"],[-1," "],[1,"h ="],[0,"== 0){\n "]],"start1":9781,"start2":9781,"length1":17,"length2":19},{"diffs":[[0,"nction(){\n\t\t"],[-1,"for("],[0,"var "],[1,"i;\n        for("],[0,"i = 0; i < g"]],"start1":10691,"start2":10691,"length1":32,"length2":43},{"diffs":[[0,"ext);\n\t\t}\n\t\tfor("],[-1,"var "],[0,"i = 0; i < game."]],"start1":10792,"start2":10792,"length1":36,"length2":32},{"diffs":[[0,"tion(){\n"],[1,"        var i;\n"],[0,"\t\tfor("],[-1,"var "],[0,"i = 0; i"]],"start1":10936,"start2":10936,"length1":26,"length2":37},{"diffs":[[0,"te();\n\t\t}\n\t\tfor("],[-1,"var "],[0,"i = 0; i < game."]],"start1":11024,"start2":11024,"length1":36,"length2":32},{"diffs":[[0,"umber =="],[-1,""],[0,""],[1,"="],[0," null){\n"]],"start1":12225,"start2":12225,"length1":16,"length2":17},{"diffs":[[0,"umber % 2 =="],[-1,""],[0,""],[1,"="],[0," 0 ? 30 : 40"]],"start1":12347,"start2":12347,"length1":24,"length2":25},{"diffs":[[0,"ber % 2 "],[-1,""],[0,""],[1,"="],[0,"== 0 ? 0"]],"start1":12452,"start2":12452,"length1":16,"length2":17}]],"length":13252,"saved":false}
{"ts":1352324516347,"patch":[[{"diffs":[[0,"('\\n');\n"],[1,"    this.counter += 1;\n    this.alpha = this.counter/50.0;\n    if(this.alalpha>1) this.alpha = 1;\n    context.globalAlpha = this.alpha;\n"],[0,"    for("]],"start1":7396,"start2":7396,"length1":16,"length2":152}]],"length":13388,"saved":false}
{"ts":1352324682716,"patch":[[{"diffs":[[0,"();\n"],[-1,"        if(game.spaceship.state == 'hit'){\n            game.state = 'ended';\n        }\n"],[0,"\t},\n"]],"start1":10717,"start2":10717,"length1":95,"length2":8}]],"length":13301,"saved":false}
{"ts":1352324802403,"patch":[[{"diffs":[[0,"       \n        "],[1,"else "],[0,"if(game.state =="]],"start1":9707,"start2":9707,"length1":32,"length2":37},{"diffs":[[0,"       \n        "],[1,"else "],[0,"if(game.state =="]],"start1":9864,"start2":9864,"length1":32,"length2":37},{"diffs":[[0,"       \n        "],[1,"else "],[0,"if(game.state =="]],"start1":10149,"start2":10149,"length1":32,"length2":37}]],"length":13316,"saved":false}
{"ts":1352324943185,"patch":[[{"diffs":[[0,"ge.counter = 0;\n"],[1,"            alert('game over');\n"],[0,"        }\n      "]],"start1":9680,"start2":9680,"length1":32,"length2":64}]],"length":13348,"saved":false}
{"ts":1352325017361,"patch":[[{"diffs":[[0,"ssage.counter = "],[1,"50."],[0,"0;\n            a"]],"start1":9677,"start2":9677,"length1":32,"length2":35}]],"length":13351,"saved":false}
{"ts":1352325072130,"patch":[[{"diffs":[[0,"== 'hit'"],[1," && game.state === 'playing'"],[0,"){\n     "]],"start1":9503,"start2":9503,"length1":16,"length2":44},{"diffs":[[0,"r = "],[-1,"50.0;\n            alert('game over')"],[1,"0"],[0,";\n  "]],"start1":9717,"start2":9717,"length1":44,"length2":9}]],"length":13344,"saved":false}
{"ts":1352325208943,"patch":[[{"diffs":[[0,"itle = '"],[1,"\\n"],[0,"Game Ove"]],"start1":9601,"start2":9601,"length1":16,"length2":18},{"diffs":[[0,"ame Over"],[1,"\\n"],[0,"';\n     "]],"start1":9612,"start2":9612,"length1":16,"length2":18},{"diffs":[[0,"itle = '"],[1,"\\n"],[0,"Invaders"]],"start1":10035,"start2":10035,"length1":16,"length2":18},{"diffs":[[0,"rminated"],[1,"\\n"],[0,"';\n     "]],"start1":10058,"start2":10058,"length1":16,"length2":18}]],"length":13352,"saved":false}
{"ts":1352325258860,"patch":[[{"diffs":[[0,"itle = '"],[1," "],[0,"\\nGame O"]],"start1":9601,"start2":9601,"length1":16,"length2":17},{"diffs":[[0,"e Over\\n"],[1," "],[0,"';\n     "]],"start1":9615,"start2":9615,"length1":16,"length2":17}]],"length":13354,"saved":false}
{"ts":1352325460125,"patch":[[{"diffs":[[0,"title = "],[-1,"' "],[1,"\""],[0,"\\nGame O"]],"start1":9600,"start2":9600,"length1":18,"length2":17},{"diffs":[[0,"e Over\\n"],[-1," '"],[1,"\""],[0,";\n      "]],"start1":9614,"start2":9614,"length1":18,"length2":17},{"diffs":[[0,"title = "],[-1,"'"],[1,"\""],[0,"\\nInvade"]],"start1":10034,"start2":10034,"length1":17,"length2":17},{"diffs":[[0,"inated\\n"],[-1,"'"],[1,"\""],[0,";\n      "]],"start1":10060,"start2":10060,"length1":17,"length2":17}]],"length":13352,"saved":false}
{"ts":1352325638199,"patch":[[{"diffs":[[0,"ext2Draw"],[1,"[i]"],[0,", (game."]],"start1":7613,"start2":7613,"length1":16,"length2":19},{"diffs":[[0," = \""],[-1,"\\n"],[0,"Game"],[-1," "],[1,"\\n"],[0,"Over"],[-1,"\\n"],[0,"\";\n "]],"start1":9608,"start2":9608,"length1":21,"length2":18},{"diffs":[[0," = \""],[-1,"\\n"],[0,"Invaders"],[-1," "],[1,"\\n"],[0,"exte"]],"start1":10039,"start2":10039,"length1":19,"length2":18},{"diffs":[[0,"rminated"],[-1,"\\n"],[0,"\";\n     "]],"start1":10057,"start2":10057,"length1":18,"length2":16}]],"length":13349,"saved":false}
{"ts":1352325683611,"patch":[[{"diffs":[[0,"; i++){\n"],[1,"        context.translate(0, fontSizePx * i);\n"],[0,"        "]],"start1":7579,"start2":7579,"length1":16,"length2":62},{"diffs":[[0,"0);\n"],[-1,"        context.translate(0, fontSizePx * i);\n"],[0,"    "]],"start1":7734,"start2":7734,"length1":54,"length2":8}]],"length":13349,"saved":false}
{"ts":1352325710917,"patch":[[{"diffs":[[0,"ext2Draw"],[1,"[i]"],[0,").width)"]],"start1":7714,"start2":7714,"length1":16,"length2":19}]],"length":13352,"saved":false}
{"ts":1352325778969,"patch":[[{"diffs":[[0," = \""],[1,"\\n\\n"],[0,"Game"],[-1,"\\n"],[1," "],[0,"Over"]],"start1":9611,"start2":9611,"length1":14,"length2":17},{"diffs":[[0,"message.body = '"],[1,"\\n"],[0,"press spacebar t"]],"start1":9648,"start2":9648,"length1":32,"length2":34},{"diffs":[[0," = \""],[1,"\\n\\n"],[0,"Invaders"],[-1,"\\n"],[1," "],[0,"exte"]],"start1":10047,"start2":10047,"length1":18,"length2":21},{"diffs":[[0,"body = '"],[1,"\\n"],[0,"press sp"]],"start1":10104,"start2":10104,"length1":16,"length2":18}]],"length":13362,"saved":false}
{"ts":1352325900251,"patch":[[{"diffs":[[0,"r to play again!"],[1,"\\nor just quit playing if you\\'re done"],[0,"';\n            g"]],"start1":9679,"start2":9679,"length1":32,"length2":70}]],"length":13400,"saved":false}
{"ts":1352325983584,"patch":[[{"diffs":[[0,"s.title,"],[-1," 10 +"],[0," this.ti"]],"start1":8006,"start2":8006,"length1":21,"length2":16},{"diffs":[[0,"ody,"],[-1," 10 +"],[0," thi"]],"start1":8196,"start2":8196,"length1":13,"length2":8}]],"length":13390,"saved":false}
{"ts":1352326071137,"patch":[[{"diffs":[[0,"message.body = '"],[-1,"\\n"],[0,"press spacebar t"]],"start1":9638,"start2":9638,"length1":34,"length2":32},{"diffs":[[0,"ain!"],[-1,"\\nor just quit playing if you\\'re done"],[0,"';\n "]],"start1":9679,"start2":9679,"length1":46,"length2":8}]],"length":13350,"saved":false}
{"ts":1352326109521,"patch":[[{"diffs":[[0,"body = '"],[1,"\\n"],[0,"press sp"]],"start1":9646,"start2":9646,"length1":16,"length2":18}]],"length":13352,"saved":false}
